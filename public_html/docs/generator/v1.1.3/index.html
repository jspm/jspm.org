<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@jspm/generator</title><meta name="description" content="Documentation for @jspm/generator"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script>
        <link rel="stylesheet" href="/style.css" />
        <link rel="stylesheet" href="/typedoc.css" />
      </head><body>
        <div class="topbar">
  <a style="display: block" href="/">
    <div class="logobox" href="/"></div>
    <h1 class="logo">jspm</h1>
  </a>
  <ul class="toplinks">
    <li><a target="_blank" href="https://generator.jspm.io">Online Generator</a></li>
    <li><a target="_blank" href="https://status.jspm.io">CDN Status</a></li>
    <li class="github"><a target="_blank" href="https://github.com/jspm/jspm" rel="noopener"></a></li>
  </ul>
  <div class="mobile-menu"></div>
</div>
        <div class="mobile-menu"></div>
        <div class="sidebar">
  <div class="toc">
    <ul class="sections">
      <li>
        <a href="/getting-started">JSPM</a>
        <ul class="section">
          <li><a href="/getting-started">Getting Started</a></li>
          <li><a href="/faq">FAQ</a></li>
        </ul>
      </li>

      <li>
        <a href="/docs/jspm">Documentation</a>
        <ul class="section">
          <li><a href="/docs/jspm">JSPM CLI</a></li>
          <li><a href="/docs/generator">JSPM Generator</a></li>
          <li><a href="/docs/integrations">Integrations</a></li>
          <li><a href="/docs/cdn-resolution">CDN Resolution Spec</a></li>
        </ul>
      </li>

      <li>
        <a href="/cdn/jspm-io">CDN</a>
        <ul class="section">
          <li><a href="/cdn/jspm-io">jspm.io</a></li>
          <li><a href="/cdn/jspm-dev">jspm.dev</a></li>
          <li><a href="/cdn/api">API</a></li>
        </ul>
      </li>

      <li class="blog">
        <a href="/jspm-cli">Blog</a>
        <ul class="section">
          <li class="blog-link"><a href="/jspm-cli"><em>JSPM CLI v3 Launch<span class="date">19/03/23</span></em></a></li>
          <li class="blog-link"><a href="/import-map-cdn"><em>Import Map CDN Launch<span class="date">02/03/21</span></em></a></li>
        </ul>
      </li>
    </ul>
    <!-- <div class="footer"></div> -->
  </div>
</div>
        <div class="content-container">
          <div class="content">
        <select id="plugin-versions-select" class="title" name="versions"></select><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@jspm/generator</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>@jspm/generator</h2></div>
<div class="tsd-panel tsd-typography"><p>Examples include:</p>
<ul>
<li><strong>Local Linking:</strong> map packages to your local <code>node_modules</code> folder</li>
<li><a href="https://github.com/jspm/generator#defaultProvider"><strong>Common CDNs:</strong></a> resolve against <a href="https://jspm.io/">jspm.io</a>, <a href="https://unpkg.com/">UNPKG</a>, <a href="https://www.skypack.dev/">Skypack</a>, <a href="https://jsdelivr.com">jsDelivr</a> and <a href="#customProviders">more</a></li>
<li><a href="https://nodejs.org/dist/latest-v19.x/docs/api/packages.html#conditional-exports"><strong>Conditional Resolution:</strong></a> map different versions of a module based on environment</li>
<li><a href="https://docs.npmjs.com/specifying-dependencies-and-devdependencies-in-a-package-json-file"><strong>Dependency Versioning:</strong></a> respects the version constraints in your <code>package.json</code></li>
<li><a href="https://nodejs.org/dist/latest-v19.x/docs/api/packages.html#package-entry-points"><strong>Package Entrypoints:</strong></a> handles node-style package exports, imports and own-name resolution</li>
</ul>
<p>For a CLI-based tool, see <a href="https://github.com/jspm/jspm">jspm/jspm</a>.
<br>
For a web-based UI, see <a href="https://generator.jspm.io">https://generator.jspm.io</a>.</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>

<a href="#nodejs" id="nodejs" style="color: inherit; text-decoration: none;">
  <h3>Node.js</h3>
</a>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">jspm</span><span class="hl-1">/</span><span class="hl-0">generator</span>
</code></pre>
<p>Note that <code>@jspm/generator</code> only ships as <a href="https://nodejs.org/dist/latest-v19.x/docs/api/esm.html">ESM</a>, so to use it in Node.js you will either have to add <code>&quot;type&quot;: &quot;module&quot;</code> to your <code>package.json</code>, or add a <code>.mjs</code> extension to the importing file. See the <a href="https://nodejs.org/dist/latest-v19.x/docs/api/esm.html#enabling">Node.js documentation</a> for details.</p>

<a href="#deno--browser" id="deno--browser" style="color: inherit; text-decoration: none;">
  <h3>Deno / Browser</h3>
</a>
<p>You can get an import map for <code>@jspm/generator</code> <a href="https://generator.jspm.io/#U2NhYGBkDM0rySzJSU1hcMgqLsjVT0/NSy1KLMkvcjDUM9AzBgB0jFHUJAA">here</a>. Alternatively, you can generate one yourself using the <a href="https://generator.jspm.io">online tool</a> or the <a href="https://github.com/jspm/jspm">CLI</a>.</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h1>Usage</h1>
</a>

<a href="#generating-import-maps" id="generating-import-maps" style="color: inherit; text-decoration: none;">
  <h2>Generating Import Maps</h2>
</a>
<p>A minimal example of creating an input map from scratch is:</p>
<pre><code class="language-js"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">Generator</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@jspm/generator&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">// The URL of the import map, for normalising relative URLs:</span><br/><span class="hl-1">  </span><span class="hl-0">mapUrl:</span><span class="hl-1"> </span><span class="hl-2">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-7">// The default CDN to use for external package resolutions:</span><br/><span class="hl-1">  </span><span class="hl-0">defaultProvider:</span><span class="hl-1"> </span><span class="hl-3">&#39;jspm&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-7">// The environment(s) to target. Note that JSPM will use these to resolve</span><br/><span class="hl-1">  </span><span class="hl-7">// conditional exports in any package it encounters:</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">// Install the main entry point of the latest version of a package:</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">(</span><span class="hl-3">&#39;react-dom&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Install a particular entry point of a package:</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">(</span><span class="hl-3">&#39;lit@2/decorators.js&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">({ </span><span class="hl-0">target:</span><span class="hl-1"> </span><span class="hl-3">&#39;lit@2&#39;</span><span class="hl-1">, </span><span class="hl-0">subpath:</span><span class="hl-1"> </span><span class="hl-3">&#39;./html.js&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-7">// Install to a custom alias:</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">({ </span><span class="hl-0">target:</span><span class="hl-1"> </span><span class="hl-3">&#39;react@16&#39;</span><span class="hl-1">, </span><span class="hl-0">alias:</span><span class="hl-1"> </span><span class="hl-3">&#39;react16&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-7">// Install from a local package:</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">target:</span><span class="hl-1"> </span><span class="hl-3">&#39;./packages/local-pkg&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">alias:</span><span class="hl-1"> </span><span class="hl-3">&#39;mypkg&#39;</span><br/><span class="hl-1">  </span><span class="hl-0">subpath</span><span class="hl-1">: </span><span class="hl-3">&#39;./feature&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">// Output the import map:</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">getMap</span><span class="hl-1">(), </span><span class="hl-4">null</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">));</span>
</code></pre>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;imports&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lit/decorators.js&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;https://ga.jspm.io/npm:lit@2.0.0-rc.1/decorators.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lit/html.js&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;https://ga.jspm.io/npm:lit@2.0.0-rc.1/html.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;mypkg/feature&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;./packages/local-pkg/feature.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;react&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;./local/react.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;react16&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;https://ga.jspm.io/npm:react@16.14.0/index.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;scopes&quot;</span><span class="hl-1">: { </span><span class="hl-10">...</span><span class="hl-1"> }</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#tracing-and-installing-dependencies" id="tracing-and-installing-dependencies" style="color: inherit; text-decoration: none;">
  <h2>Tracing and Installing Dependencies</h2>
</a>
<p>The <code>generator.install</code> function can be used to install a package (along with its secondary dependencies) into an import map. By default, version constraints are taken from the <code>package.json</code> of the import map&#39;s parent package. If no constraints are found, the generator will look up the latest available version of the package:</p>
<pre><code class="language-js"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">Generator</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@jspm/generator&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">mapUrl:</span><span class="hl-1"> </span><span class="hl-2">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">(</span><span class="hl-3">&#39;react&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">getMap</span><span class="hl-1">(), </span><span class="hl-4">null</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">));</span>
</code></pre>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;imports&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lit&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;https://ga.jspm.io/npm:lit@2.6.1/index.js&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;scopes&quot;</span><span class="hl-1">: { </span><span class="hl-10">...</span><span class="hl-1"> }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>In some cases you may have a particular module you want to run, such as your application&#39;s entry point, and you want to trace and install <em>all</em> of the dependencies of that module. This can be done using the <code>generator.traceInstall</code> function:</p>
<pre><code class="language-js"><span class="hl-7">// file: ./mapping.js</span><br/><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-4">*</span><span class="hl-1"> </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-0">lit</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;lit&#39;</span><span class="hl-1">;</span>
</code></pre>
<pre><code class="language-js"><span class="hl-7">// file: generate.js</span><br/><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">Generator</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@jspm/generator&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">mapUrl:</span><span class="hl-1"> </span><span class="hl-2">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">traceInstall</span><span class="hl-1">(</span><span class="hl-3">&#39;./mapping.js&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">getMap</span><span class="hl-1">(), </span><span class="hl-4">null</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">));</span>
</code></pre>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;imports&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lit&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;https://ga.jspm.io/npm:lit@2.6.1/index.js&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;scopes&quot;</span><span class="hl-1">: { </span><span class="hl-10">...</span><span class="hl-1"> }</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#working-with-existing-import-maps" id="working-with-existing-import-maps" style="color: inherit; text-decoration: none;">
  <h2>Working with Existing Import Maps</h2>
</a>
<p>An import map can be passed to the generator with the <code>inputMap</code> option, which will be used as the starting point for any further operations. This allows you to add, upgrade or remove dependencies from an existing import map, enabling an iterative workflow:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-0">inputMap:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;imports&quot;</span><span class="hl-0">:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;react&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://ga.jspm.io/npm:react@17.0.1/dev.index.js&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;scopes&quot;</span><span class="hl-0">:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;https://ga.jspm.io/&quot;</span><span class="hl-0">:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;object-assign&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://ga.jspm.io/npm:object-assign@4.1.0/index.js&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">(</span><span class="hl-3">&#39;lit&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">getMap</span><span class="hl-1">(), </span><span class="hl-4">null</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">));</span>
</code></pre>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;imports&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lit&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;https://ga.jspm.io/npm:lit@2.2.7/index.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;react&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;https://ga.jspm.io/npm:react@17.0.1/index.js&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;scopes&quot;</span><span class="hl-1">: { </span><span class="hl-10">...</span><span class="hl-1"> }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>The generator treats all primary dependencies (the <code>&quot;imports&quot;</code>) as <em>locked</em>, meaning they will not be upgraded or removed by any operation unless you either:</p>
<ol>
<li>Explicitly request a change by running an operation against that dependency.</li>
<li>Change the environment(s) targeted by the generator (e.g. going from &#39;development&#39; to &#39;production&#39;).</li>
</ol>
<p>Any secondary dependencies (the <code>&quot;scopes&quot;</code>) will be upgraded or pruned as necessary to satisfy the primary dependencies. To reinstall all of the secondary dependencies (if you made manual changes, for instance), you can can run <code>generator.install</code> with no arguments:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-0">inputMap:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;imports&quot;</span><span class="hl-0">:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;react&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://ga.jspm.io/npm:react@17.0.0/dev.index.js&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">();</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">getMap</span><span class="hl-1">(), </span><span class="hl-4">null</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">));</span>
</code></pre>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">imports</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">react</span><span class="hl-1">: </span><span class="hl-10">&#39;https:</span><span class="hl-7">//ga.jspm.io/npm:react@17.0.0/index.js&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-10">scopes</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">&#39;https</span><span class="hl-1">:</span><span class="hl-7">//ga.jspm.io/&#39;: {</span><br/><span class="hl-1">      </span><span class="hl-10">&#39;object-assign&#39;:</span><span class="hl-1"> </span><span class="hl-10">&#39;https:</span><span class="hl-7">//ga.jspm.io/npm:object-assign@4.1.1/index.js&#39;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>To update primary dependencies, you can use <code>jspm.update</code>. By default, version constraints are taken from the <code>package.json</code> of the import map&#39;s parent package. If no constraints are found, the generator will fall back to bumping the <em>minor</em> version of the dependency to latest:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-0">inputMap:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;imports&quot;</span><span class="hl-0">:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;react&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://ga.jspm.io/npm:react@17.0.0/dev.index.js&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">// Use generator.update() with no arguments to update all primary dependencies.</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">update</span><span class="hl-1">(</span><span class="hl-3">&#39;react&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">getMap</span><span class="hl-1">());</span>
</code></pre>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">imports</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">react</span><span class="hl-1">: </span><span class="hl-10">&#39;https:</span><span class="hl-7">//ga.jspm.io/npm:react@17.0.2/index.js&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-10">scopes</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">&#39;https</span><span class="hl-1">:</span><span class="hl-7">//ga.jspm.io/&#39;: {</span><br/><span class="hl-1">      </span><span class="hl-10">&#39;object-assign&#39;:</span><span class="hl-1"> </span><span class="hl-10">&#39;https:</span><span class="hl-7">//ga.jspm.io/npm:object-assign@4.1.1/index.js&#39;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#mapping-locally-against-node_modules" id="mapping-locally-against-node_modules" style="color: inherit; text-decoration: none;">
  <h2>Mapping Locally Against <code>node_modules</code></h2>
</a>
<p>If you have an existing Node.js ESM project, you can use the generator&#39;s <code>nodemodules</code> provider to map packages to your <code>node_modules</code> folder instead of using an external CDN. This is useful for offline development:</p>
<pre><code class="language-js"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">Generator</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@jspm/generator&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">mapUrl:</span><span class="hl-1"> </span><span class="hl-2">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-0">defaultProvider:</span><span class="hl-1"> </span><span class="hl-3">&#39;nodemodules&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">// Assuming you have run &#39;npm install lit&#39; in the same directory already:</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">install</span><span class="hl-1">(</span><span class="hl-3">&#39;lit&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">getMap</span><span class="hl-1">(), </span><span class="hl-4">null</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">));</span>
</code></pre>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;imports&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lit&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;./node_modules/lit/index.js&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;scopes&quot;</span><span class="hl-1">: { </span><span class="hl-10">...</span><span class="hl-1"> }</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#using-an-import-map" id="using-an-import-map" style="color: inherit; text-decoration: none;">
  <h2>Using an Import Map</h2>
</a>
<p>In order to actually <em>use</em> an import map in an HTML page, the import map must be included as follows:</p>
<pre><code class="language-html"><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-13"> </span><span class="hl-14">type</span><span class="hl-13">=</span><span class="hl-15">&quot;importmap&quot;</span><span class="hl-11">&gt;</span><br/><span class="hl-13">{</span><br/><span class="hl-13">  &quot;imports&quot;: { ... },</span><br/><span class="hl-13">  &quot;scopes&quot;: { ... }</span><br/><span class="hl-13">}</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span>
</code></pre>
<p>With the import map embedded in this way, all javascript <code>import</code> statements executed by that page will have access to the defined mappings. This enables the use of bare-specifier imports, such as <code>import &#39;lit/html.js&#39;</code> or <code>import &#39;react&#39;</code>, directly in the browser!</p>
<p>Dynamically injecting <code>&lt;script type=&quot;importmap&quot;&gt;</code> tags using JavaScript will also work, provided that no modules try to use an import mapping before the injection occurs. For dynamic import map injection, creating an IFrame for each map and injecting the maps into these frames can be used as a work-around.</p>
<p>To target browsers without import map support, we recommend the <a href="https://github.com/guybedford/es-module-shims">ES Module Shims</a> polyfill. This is a highly optimized polyfill with near-native performance - see the <a href="https://github.com/guybedford/es-module-shims/blob/main/bench/README.md">performance benchmarks</a>.</p>

<a href="#working-directly-with-html" id="working-directly-with-html" style="color: inherit; text-decoration: none;">
  <h2>Working Directly with HTML</h2>
</a>
<p>Instead of manually adding import maps to your page, you can use <code>generator.htmlInject</code> to trace the inline modules in an HTML file and inject an import map back into it:</p>
<pre><code class="language-js"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">generator</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@jspm/generator&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">mapurl:</span><span class="hl-1"> </span><span class="hl-2">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">htmlinject</span><span class="hl-1">(</span><span class="hl-3">`</span><br/><span class="hl-3">  &lt;!doctype html&gt;</span><br/><span class="hl-3">  &lt;script type=&quot;module&quot;&gt;import &#39;react&#39;&lt;/script&gt;</span><br/><span class="hl-3">`</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-0">trace:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">esmoduleshims:</span><span class="hl-1"> </span><span class="hl-4">true</span><br/><span class="hl-1">  </span><br/><span class="hl-1">}));</span>
</code></pre>
<pre><code class="language-html"><span class="hl-11">&lt;!</span><span class="hl-12">doctype</span><span class="hl-1"> </span><span class="hl-14">html</span><span class="hl-11">&gt;</span><br/><span class="hl-7">&lt;!-- generated by @jspm/generator - https://github.com/jspm/generator --&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-13"> </span><span class="hl-14">async</span><span class="hl-13"> </span><span class="hl-14">src</span><span class="hl-13">=</span><span class="hl-15">&quot;https://ga.jspm.io/npm:es-module-shims@1.6.3/dist/es-module-shims.js&quot;</span><span class="hl-13"> </span><span class="hl-14">crossorigin</span><span class="hl-13">=</span><span class="hl-15">&quot;anonymous&quot;</span><span class="hl-11">&gt;&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-13"> </span><span class="hl-14">type</span><span class="hl-13">=</span><span class="hl-15">&quot;importmap&quot;</span><span class="hl-11">&gt;</span><br/><span class="hl-13">{</span><br/><span class="hl-13">  &quot;imports&quot;: {</span><br/><span class="hl-13">    &quot;react&quot;: &quot;https://ga.jspm.io/npm:react@18.2.0/index.js&quot;</span><br/><span class="hl-13">  }</span><br/><span class="hl-13">}</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-13"> </span><span class="hl-14">type</span><span class="hl-13">=</span><span class="hl-15">&quot;module&quot;</span><span class="hl-11">&gt;</span><span class="hl-2">import</span><span class="hl-13"> </span><span class="hl-3">&#39;react&#39;</span><span class="hl-13">&lt;/</span><span class="hl-0">script</span><span class="hl-13">&gt;</span>
</code></pre>

<a href="#module-preloading-and-integrity" id="module-preloading-and-integrity" style="color: inherit; text-decoration: none;">
  <h2>Module Preloading and Integrity</h2>
</a>
<p>The <code>generator.htmlInject</code> function supports injecting module preload tags, as well as integrity attributes for the modules. Preload tags ensure that all of your module dependencies are loaded up front, preventing additional round trips to the server, and integrity attributes prevent your modules from being tampered with in-transit:</p>
<pre><code class="language-js"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">Generator</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@jspm/generator&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">mapUrl:</span><span class="hl-1"> </span><span class="hl-2">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-0">inputMap:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">imports:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">react:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://ga.jspm.io/npm:react@18.2.0/index.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">htmlInject</span><span class="hl-1">(</span><span class="hl-3">`&lt;!doctype html&gt;`</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-0">esModuleShims:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">integrity:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">preload:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">}));</span>
</code></pre>
<pre><code class="language-html"><span class="hl-11">&lt;!</span><span class="hl-12">doctype</span><span class="hl-1"> </span><span class="hl-14">html</span><span class="hl-11">&gt;</span><span class="hl-7">&lt;!-- Generated by @jspm/generator - https://github.com/jspm/generator --&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-13"> </span><span class="hl-14">async</span><span class="hl-13"> </span><span class="hl-14">src</span><span class="hl-13">=</span><span class="hl-15">&quot;https://ga.jspm.io/npm:es-module-shims@1.6.3/dist/es-module-shims.js&quot;</span><span class="hl-13"> </span><span class="hl-14">crossorigin</span><span class="hl-13">=</span><span class="hl-15">&quot;anonymous&quot;</span><span class="hl-13"> </span><span class="hl-14">integrity</span><span class="hl-13">=</span><span class="hl-15">&quot;sha384-R+gcUA3XvOcqevJ058aqe2+i0fMjGxEgXlstX2GcuHSwkr03d6+GPKDBbCTlt9pt&quot;</span><span class="hl-11">&gt;&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-13"> </span><span class="hl-14">type</span><span class="hl-13">=</span><span class="hl-15">&quot;importmap&quot;</span><span class="hl-11">&gt;</span><br/><span class="hl-13">{</span><br/><span class="hl-13">  &quot;imports&quot;: {</span><br/><span class="hl-13">    &quot;react&quot;: &quot;https://ga.jspm.io/npm:react@18.2.0/index.js&quot;</span><br/><span class="hl-13">  }</span><br/><span class="hl-13">}</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">link</span><span class="hl-1"> </span><span class="hl-14">rel</span><span class="hl-1">=</span><span class="hl-15">&quot;modulepreload&quot;</span><span class="hl-1"> </span><span class="hl-14">href</span><span class="hl-1">=</span><span class="hl-15">&quot;https://ga.jspm.io/npm:react@18.2.0/index.js&quot;</span><span class="hl-1"> </span><span class="hl-14">integrity</span><span class="hl-1">=</span><span class="hl-15">&quot;sha384-i6bD4Fz1JxnWeeJ6W+zAMk/LgkWeHJ/B+22ykUkjaKgPupuM4UDtOU/2bSE8sEyC&quot;</span><span class="hl-1"> </span><span class="hl-11">/&gt;</span>
</code></pre>
<p>The <code>generator.htmlInject</code> function supports injecting module preload tags, as well as integrity attributes for the modules. Preload tags ensure that all of your module dependencies are loaded up front, preventing additional round trips to the server, and integrity attributes prevent your modules from being tampered with in-transit:</p>
<pre><code class="language-js"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">Generator</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@jspm/generator&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">mapUrl:</span><span class="hl-1"> </span><span class="hl-2">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">env:</span><span class="hl-1"> [</span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;module&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-0">inputMap:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">imports:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">react:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://ga.jspm.io/npm:react@18.2.0/index.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">htmlInject</span><span class="hl-1">(</span><span class="hl-3">`&lt;!doctype html&gt;`</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-0">esModuleShims:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">integrity:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">preload:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">}));</span>
</code></pre>
<pre><code class="language-html"><span class="hl-11">&lt;!</span><span class="hl-12">doctype</span><span class="hl-1"> </span><span class="hl-14">html</span><span class="hl-11">&gt;</span><span class="hl-7">&lt;!-- Generated by @jspm/generator - https://github.com/jspm/generator --&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-13"> </span><span class="hl-14">async</span><span class="hl-13"> </span><span class="hl-14">src</span><span class="hl-13">=</span><span class="hl-15">&quot;https://ga.jspm.io/npm:es-module-shims@1.6.3/dist/es-module-shims.js&quot;</span><span class="hl-13"> </span><span class="hl-14">crossorigin</span><span class="hl-13">=</span><span class="hl-15">&quot;anonymous&quot;</span><span class="hl-13"> </span><span class="hl-14">integrity</span><span class="hl-13">=</span><span class="hl-15">&quot;sha384-R+gcUA3XvOcqevJ058aqe2+i0fMjGxEgXlstX2GcuHSwkr03d6+GPKDBbCTlt9pt&quot;</span><span class="hl-11">&gt;&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-13"> </span><span class="hl-14">type</span><span class="hl-13">=</span><span class="hl-15">&quot;importmap&quot;</span><span class="hl-11">&gt;</span><br/><span class="hl-13">{</span><br/><span class="hl-13">  &quot;imports&quot;: {</span><br/><span class="hl-13">    &quot;react&quot;: &quot;https://ga.jspm.io/npm:react@18.2.0/index.js&quot;</span><br/><span class="hl-13">  }</span><br/><span class="hl-13">}</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">link</span><span class="hl-1"> </span><span class="hl-14">rel</span><span class="hl-1">=</span><span class="hl-15">&quot;modulepreload&quot;</span><span class="hl-1"> </span><span class="hl-14">href</span><span class="hl-1">=</span><span class="hl-15">&quot;https://ga.jspm.io/npm:react@18.2.0/index.js&quot;</span><span class="hl-1"> </span><span class="hl-14">integrity</span><span class="hl-1">=</span><span class="hl-15">&quot;sha384-i6bD4Fz1JxnWeeJ6W+zAMk/LgkWeHJ/B+22ykUkjaKgPupuM4UDtOU/2bSE8sEyC&quot;</span><span class="hl-1"> </span><span class="hl-11">/&gt;</span>
</code></pre>

<a href="#using-a-different-cdn" id="using-a-different-cdn" style="color: inherit; text-decoration: none;">
  <h2>Using a Different CDN</h2>
</a>
<p>Package resolution in JSPM is handled using the concept of a <a href="./docs/interfaces/GeneratorOptions.md#defaultprovider">provider</a>, which is something that knows how to translate between versioned packages and URLs. The list of providers that are supported by the generator out-of-the-box is:</p>
<ul>
<li><code>&quot;jspm.io&quot;</code> - The <strong>default provider</strong>, resolves to the <code>jspm.io</code> CDN.</li>
<li><code>&quot;nodemodules&quot;</code> - For <strong>local workflows</strong>, resolves to the local <code>node_modules</code> folder.</li>
<li><code>&quot;jspm.io#system&quot;</code> - Resolves to the <code>jspm.io</code>, but with the SystemJS module format.</li>
<li><code>&quot;skypack&quot;</code> - Resolves to the Skypack CDN.</li>
<li><code>&quot;jsdelivr&quot;</code> - Resolves to the jsDelivr CDN.</li>
<li><code>&quot;unpkg&quot;</code> - Resolves to the unpkg CDN.</li>
<li><code>&quot;deno&quot;</code> - Resolves to the Deno CDN.</li>
<li><code>&quot;denoland&quot;</code> - Resolves to the Deno CDN.</li>
</ul>
<p>Unlike the other providers, which simply hook into their respective external CDNs, the <code>&quot;nodemodules&quot;</code> provider does an NPM-style <code>node_modules</code> search from the current module URL. This is typically a <code>file:///</code> URL when generating import maps for local modules, but other protocols are supported too so long as directory listing requests for <code>node_modules</code> are permitted (this is the case for most local development server tools).</p>
<p>The <code>&quot;jspm.io#system&quot;</code> provider can be used to generate import maps for <a href="https://github.com/systemjs/systemjs">SystemJS</a>, with resolutions that behave identically to those of the <code>&quot;jspm&quot;</code> provider, but which fully support older browsers using the SystemJS module format.</p>

<a href="#api" id="api" style="color: inherit; text-decoration: none;">
  <h1>API</h1>
</a>
<p>For details on the supported options in the <a href="./classes/Generator.md">Generator</a> constructor, see <a href="./interfaces/GeneratorOptions.md">GeneratorOptions</a>. Documentation for the rest of the package exports can be found in the <a href="./modules.md">modules page</a>.</p>

<a href="#package-configuration" id="package-configuration" style="color: inherit; text-decoration: none;">
  <h2>Package Configuration</h2>
</a>
<p>Package exports configurations are taken from the package.json. When attempting to install or resolve a subpath of a package
that does not exist in its exports, an error will be thrown.</p>
<p>To recover from errors like this, JSPM and Skypack have mechanisms for overriding package configurations:</p>
<ul>
<li><a href="https://github.com/jspm/overrides">JSPM Overrides</a></li>
<li><a href="https://github.com/snowpackjs/DefinitelyExported">Skypack Definitely Exported</a></li>
</ul>
<p>Creating a PR to add custom exports overrides allows for fixing any package issues on the CDNs.</p>
<p>For more information on the package exports field see the <a href="https://nodejs.org/dist/latest-v16.x/docs/api/packages.html#packages_package_entry_points">Node.js documentation</a>.</p>

<a href="#logging" id="logging" style="color: inherit; text-decoration: none;">
  <h2>Logging</h2>
</a>
<p>A logger is provided via <code>generator.logStream</code>:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">generator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Generator</span><span class="hl-1">();</span><br/><br/><span class="hl-1">(</span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">for</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> (</span><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-5">type</span><span class="hl-1">, </span><span class="hl-5">message</span><span class="hl-1"> } </span><span class="hl-4">of</span><span class="hl-1"> </span><span class="hl-0">generator</span><span class="hl-1">.</span><span class="hl-6">logStream</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">type</span><span class="hl-4">}</span><span class="hl-3">: </span><span class="hl-4">${</span><span class="hl-0">message</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})();</span>
</code></pre>
<p>Log events recorded include <code>trace</code>, <code>resolve</code> and <code>install</code>.</p>
<p>Note that the log messages are for debugging and not currently part of the semver contract of the project.</p>
<p>Alternatively set the environment variable <code>JSPM_GENERATOR_LOG</code> to enable default console logging.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">@jspm/generator</a>
<ul></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky">
<ul>
<li class="tsd-kind-class"><a href="classes/Generator.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-128-path"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)" id="icon-128-text"></path></svg>Generator</a></li>
<li class="tsd-kind-interface"><a href="interfaces/GeneratorOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-256-path"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)" id="icon-256-text"></path></svg>Generator<wbr/>Options</a></li>
<li class="tsd-kind-interface"><a href="interfaces/Install.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Install</a></li>
<li class="tsd-kind-interface"><a href="interfaces/LookupOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Lookup<wbr/>Options</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ModuleAnalysis.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Module<wbr/>Analysis</a></li>
<li class="tsd-kind-interface"><a href="interfaces/Provider.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Provider</a></li>
<li class="tsd-kind-function"><a href="functions/analyzeHtml.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-64-path"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)" id="icon-64-text"></path></svg>analyze<wbr/>Html</a></li>
<li class="tsd-kind-function"><a href="functions/clearCache.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>clear<wbr/>Cache</a></li>
<li class="tsd-kind-function"><a href="functions/fetch.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>fetch</a></li>
<li class="tsd-kind-function"><a href="functions/getDefaultProviders.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Default<wbr/>Providers</a></li>
<li class="tsd-kind-function"><a href="functions/getPackageBase.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Package<wbr/>Base</a></li>
<li class="tsd-kind-function"><a href="functions/getPackageConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Package<wbr/>Config</a></li>
<li class="tsd-kind-function"><a href="functions/lookup.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>lookup</a></li>
<li class="tsd-kind-function"><a href="functions/parseUrlPkg.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>parse<wbr/>Url<wbr/>Pkg</a></li></ul></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></div></div><script src="/script.js"></script><script src="assets/versionsMenu.js" type="module"></script></body></html>